&T
[]T
(T, U)
func(T) U
owned T
weak T
mut T

T.U
T<U>




pub module animals
import std.io

pub type Animal {
	pub name string
	pub age uint32
}

pub func makeNoise(animal &Animal)

pub type Dog {
	impl Animal
	pub tag string
}

pub type Cat {
	impl Animal
	pub breed string
}

pub func makeNoise(dog &Dog) {
	printLine("woof")
}

pub func makeNoise(cat &Cat) {
	printLine("meow")
}

pub func main() {
	var pet mut &Animal = &Dog()
	makeNoise(pet)
	pet = &Cat()
	pet->makeNoise()
}




pub module shapes
import std.math

pub type Shape cases {
	type Rectangle {pub length, width float64}
	type Triangle {pub base, height float64}
	type Circle {pub radius float64}
}

pub func area(shape &Shape) float64

pub func area(rectangle &Rectangle) {
	return rectangle.width*rectangle.height
}

pub func area(triangle &Triangle) {
	return 0.5*triangle.base*triangle.height
}

pub func area(circle &Circle) {
	return std.math.pi*circle.radius*circle.radius
}




pub module physics
import std.math
import std.operators

pub type Entity {
	pub pos, vel, acc Vector
} cases {
	type Circle {pub radius float64}
	type Mesh {pub vertices owned []Vector}
}

pub type Vector {
	impl std.operators.To<string>, .Equality<This>, .Arithmetic<This>, .Arithmetic<float>
	pub x, y, z float64
}

pub func collide(a, b &mut Entity)

pub func collide(a, b &mut Circle) {}

pub func collide(a, b &mut Mesh) {}

pub func collide(a &mut Circle, b &mut Mesh) {}

pub func collide(a &mut Mesh, b &mut Circle) {}

pub func to<=string>(vector &Vector) {
	return f"({vector.x}, {vector.y}, {vector.z})"
}




type Color {
	r, g, b uint8
} cases {
	default type Rgb
	red = (255, 0, 0)
	green = (0, 255, 0)
	blue = (0, 0, 255)
}
